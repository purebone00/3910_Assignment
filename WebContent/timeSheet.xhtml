<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
      <h:head>
	    <meta name="viewport" content="width=device-width, initial-scale=1" />
	   	<h:outputStylesheet library="css" name="styles.css"/>
	   	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min"/>
		<h:outputStylesheet library="css" name="bootstrap.min.css"/>
		<h:outputScript library="js" name="bootstrap.js" />
      </h:head>
      
      <h:body>
	      <h:form>
	      	
	      
	      	Week Number:<h:outputText value	= "#{controller.currentTimesheet.getWeekNumber()}"/>
	      			
	        Week Ending:<h:outputText value	= "#{controller.currentTimesheet.getWeekEnding()}"/>
	      		
	      	<h:dataTable value="#{controller.currentTimesheet.details}" var="row">
	      		<h:column>     			
	      			<f:facet name="header">
                  		<h:outputText value="ProjectID" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
               		</f:facet>
               		<h:inputText value		="#{row.projectID}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.projectID}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="Total"/>
               		</f:facet>
	      		</h:column>	      		
	            <h:column>
	               <f:facet name="header">
	                  <h:outputText value="WP" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.workPackage}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.workPackage}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="Total" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:outputText value		="#{row.getSum()}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getTotalHours()}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="SAT" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.hoursForWeek[0]}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.hoursForWeek[0]}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getDailyHours()[0]}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="SUN" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.hoursForWeek[1]}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.hoursForWeek[1]}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getDailyHours()[1]}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="MON" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.hoursForWeek[2]}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.hoursForWeek[2]}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getDailyHours()[2]}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="TUE" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.hoursForWeek[3]}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.hoursForWeek[3]}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getDailyHours()[3]}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="WED" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.hoursForWeek[4]}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.hoursForWeek[4]}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getDailyHours()[4]}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="THU" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.hoursForWeek[5]}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.hoursForWeek[5]}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getDailyHours()[5]}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="FRI" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.hoursForWeek[6]}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.hoursForWeek[6]}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
               		<f:facet name="footer">
                  		<h:outputText value="#{controller.currentTimesheet.getDailyHours()[6]}"/>
               		</f:facet>
	      		</h:column>
	      		<h:column>
	               <f:facet name="header">
	                  <h:outputText value="Notes" styleClass="names" 
                      headerClass="namesHeader" columnClasses="last,first"/>
	               </f:facet>
               		<h:inputText value		="#{row.notes}" 
               					 rendered	="#{controller.currentTimesheet.editing}" 
               					 size		="10"/>
               		<h:outputText value		="#{row.notes}" 
               					  rendered	="#{not controller.currentTimesheet.editing}"/>
	      		</h:column>
	      	</h:dataTable>
	      	<h:commandButton value="Edit" action="#{controller.currentTimesheet.editPage}"/>
	      	<h:commandButton value="Add" action="#{controller.currentTimesheet.addRow()}"/>
	      	<h:commandButton value="Add Timesheet" action="#{controller.timesheetCollection.addTimesheet(controller.currentTimesheet.employee)}"/>
	      	<h:button value="Go back" outcome="#{controller.goBack()}" />
	     </h:form>
      </h:body>
      
</html>
